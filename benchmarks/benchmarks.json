{
  "benchmarks": [
    {
      "name": "nbody",
      "trials": 10,
      "versions": [
        {
          "name": "baseline",
          "files": ["nbody/nbody-baseline.chpl"],
          "language": "chpl",
          "compopts": ["--fast"],
          "execopts": ["--n=50000000"],
          "measure": ["RUNTIME"]
        },
        {
          "name": "vectorized",
          "files": ["nbody/nbody.chpl"],
          "language": "chpl",
          "compopts": ["--fast", "CVL_OPTIONS"],
          "execopts": ["--n=50000000"],
          "measure": ["RUNTIME"]
        },
        {
          "name": "vectorized-fma",
          "files": ["nbody/nbody-fma.chpl"],
          "language": "chpl",
          "compopts": ["--fast", "CVL_OPTIONS"],
          "execopts": ["--n=50000000"],
          "measure": ["RUNTIME"]
        },
        {
          "name": "nbody-gcc",
          "files": ["nbody/nbody.c"],
          "language": "c-gcc",
          "compopts": ["-O3", "-march=native", "-lm"],
          "execopts": ["50000000"],
          "measure": ["RUNTIME"],
          "arch": ["x86_64"]
        },
        {
          "name": "nbody-clang",
          "files": ["nbody/nbody.c"],
          "language": "c-clang",
          "compopts": ["-O3", "-march=native", "-lm"],
          "execopts": ["50000000"],
          "measure": ["RUNTIME"],
          "arch": ["x86_64"]
        },
        {
          "name": "nbody-baseline-gcc",
          "files": ["nbody/nbody-baseline.c"],
          "language": "c-gcc",
          "compopts": ["-O3", "-march=native", "-lm"],
          "execopts": ["50000000"],
          "measure": ["RUNTIME"]
        },
        {
          "name": "nbody-baseline-clang",
          "files": ["nbody/nbody-baseline.c"],
          "language": "c-clang",
          "compopts": ["-O3", "-march=native", "-lm"],
          "execopts": ["50000000"],
          "measure": ["RUNTIME"]
        },
        {
          "name": "nbody-rust",
          "files": ["nbody/nbody.rs"],
          "language": "rust",
          "compopts": [
            "-C",
            "opt-level=3",
            "-C",
            "target-cpu=native",
            "-C",
            "codegen-units=1"
          ],
          "execopts": ["50000000"],
          "measure": ["RUNTIME"]
        },
        {
          "name": "nbody-fortran",
          "files": ["nbody/nbody.f90"],
          "language": "fortran",
          "compopts": ["-O3", "-march=native"],
          "execopts": ["50000000"],
          "measure": ["RUNTIME"]
        }
      ]
    },
    {
      "name": "mandelbrot",
      "trials": 10,
      "versions": [
        {
          "name": "baseline",
          "files": ["mandelbrot/mandelbrot3.chpl"],
          "language": "chpl",
          "compopts": ["--fast"],
          "execopts": ["--n=16000"],
          "measure": ["RUNTIME"]
        },
        {
          "name": "vectorized",
          "files": ["mandelbrot/mandelbrot-vec.chpl"],
          "language": "chpl",
          "compopts": ["--fast", "CVL_OPTIONS"],
          "execopts": ["--n=16000"],
          "measure": ["RUNTIME"]
        }
      ]
    },
    {
      "name": "flux",
      "trials": 10,
      "versions": [
        {
          "name": "baseline",
          "files": ["flux/flux.chpl"],
          "language": "chpl",
          "compopts": ["--fast"],
          "execopts": ["--n=1000", "--m=1000", "--iterations=50", "--timing"],
          "measure": ["Time taken: ([0-9.]+)"]
        },
        {
          "name": "baseline-fast-math)",
          "files": ["flux/flux.chpl"],
          "language": "chpl",
          "compopts": ["--fast", "--no-ieee-float"],
          "execopts": ["--n=1000", "--m=1000", "--iterations=50", "--timing"],
          "measure": ["Time taken: ([0-9.]+)"]
        },
        {
          "name": "AoA",
          "files": ["flux/flux2.chpl"],
          "language": "chpl",
          "compopts": ["--fast"],
          "execopts": ["--n=1000", "--m=1000", "--iterations=50", "--timing"],
          "measure": ["Time taken: ([0-9.]+)"]
        },
        {
          "name": "AoA-vectorized",
          "files": ["flux/flux3.chpl"],
          "language": "chpl",
          "compopts": ["--fast", "CVL_OPTIONS"],
          "execopts": ["--n=1000", "--m=1000", "--iterations=50", "--timing"],
          "measure": ["Time taken: ([0-9.]+)"]
        }
      ]
    },
    {
      "name": "kmeans",
      "trials": 10,
      "versions": [
        {
          "name": "baseline",
          "files": ["kmeans/kmeans.chpl"],
          "language": "chpl",
          "compopts": ["--fast", "--no-ieee-float"],
          "execopts": ["--n=100_000"],
          "execopts-small": ["--n=1000"],
          "measure": ["KMeans took ([0-9.]+)"]
        },
        {
          "name": "vectorized",
          "files": ["kmeans/kmeans-vector.chpl"],
          "language": "chpl",
          "compopts": ["--fast", "--no-ieee-float", "CVL_OPTIONS"],
          "execopts": ["--n=100_000"],
          "execopts-small": ["--n=1000"],
          "measure": ["KMeans took ([0-9.]+)"]
        }
      ]
    },
    {
      "name": "trig-sin-cos",
      "trials": 10,
      "versions": [
        {
          "name": "baseline",
          "files": ["trig/trigBench.chpl"],
          "language": "chpl",
          "compopts": [
            "--fast",
            "--no-ieee-float",
            "-svectorize=false",
            "CVL_OPTIONS"
          ],
          "execopts": ["--n=10_000_000", "--timing"],
          "execopts-small": ["--n=10_000", "--timing"],
          "measure": ["Time taken: ([0-9.]+)"]
        },
        {
          "name": "vectorized",
          "files": ["trig/trigBench.chpl"],
          "language": "chpl",
          "compopts": [
            "--fast",
            "--no-ieee-float",
            "-svectorize=true",
            "CVL_OPTIONS"
          ],
          "execopts": ["--n=10_000_000", "--timing"],
          "execopts-small": ["--n=10_000", "--timing"],
          "measure": ["Time taken: ([0-9.]+)"]
        }
      ]
    },
    {
      "name": "grayscale",
      "trials": 10,
      "versions": [
        {
          "name": "ScalarFloat",
          "files": ["grayscale/grayscale.chpl"],
          "language": "chpl",
          "compopts": ["--fast", "--edition=preview", "--no-ieee-float", "CVL_OPTIONS"],
          "execopts": ["--benchmark=Benchmark.ScalarFloat", "--n=30_000"],
          "execopts-small": ["--benchmark=Benchmark.ScalarFloat", "--n=500"],
          "measure": ["Time taken: ([0-9.]+)"]
        },
        {
          "name": "VectorFloat",
          "files": ["grayscale/grayscale.chpl"],
          "language": "chpl",
          "compopts": ["--fast", "--edition=preview", "--no-ieee-float", "CVL_OPTIONS"],
          "execopts": ["--benchmark=Benchmark.VectorFloat", "--n=30_000"],
          "execopts-small": ["--benchmark=Benchmark.VectorFloat", "--n=500"],
          "measure": ["Time taken: ([0-9.]+)"]
        },
        {
          "name": "ScalarInt",
          "files": ["grayscale/grayscale.chpl"],
          "language": "chpl",
          "compopts": ["--fast", "--edition=preview", "--no-ieee-float", "CVL_OPTIONS"],
          "execopts": ["--benchmark=Benchmark.ScalarInt", "--n=30_000"],
          "execopts-small": ["--benchmark=Benchmark.ScalarInt", "--n=500"],
          "measure": ["Time taken: ([0-9.]+)"]
        },
        {
          "name": "VectorInt",
          "files": ["grayscale/grayscale.chpl"],
          "language": "chpl",
          "compopts": ["--fast", "--edition=preview", "--no-ieee-float", "CVL_OPTIONS"],
          "execopts": ["--benchmark=Benchmark.VectorInt", "--n=30_000"],
          "execopts-small": ["--benchmark=Benchmark.VectorInt", "--n=500"],
          "measure": ["Time taken: ([0-9.]+)"]
        }
      ]
    }
  ]
}
